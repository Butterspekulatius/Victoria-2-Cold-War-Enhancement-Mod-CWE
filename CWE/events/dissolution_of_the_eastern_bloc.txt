#Dissolution of the Warsaw Pact
country_event = {
	id = 8225006
	title = "Dissolution of the Warsaw Pact"
  	desc = EVT_8225006_DESC
  	picture = "nwo2_wind_of_change"
	
	major = yes
	
  	fire_only_once = yes

  	trigger = {
    		tag = RUS
		
		#There is a Warsaw Pact
		OR = { has_global_flag = warsaw_pact_active has_country_modifier = warsaw_pact }
		
		#Perestroika had bad effects
		has_global_flag = autumn_of_nations
		
		#Baltic Freedom was the catalyst for collapse
		OR = { exists = LAT exists = LIT exists = EST }
		
		government = proletarian_dictatorship
		is_vassal = no
		war = no
  	}

  	mean_time_to_happen = { months = 6 }

  	option = {
    		name = "A wind of change is blowing over the continent"
		prestige_factor = -0.05
		badboy = -5
		
		#Soviet Elites are not happy
		any_pop = {
			limit = { strata = rich }
			militancy = 10
			consciousness = 10
		}
		
		#End the Warsaw Pact alliances
		set_global_flag = depuppetize_warsaw_pact 
		set_global_flag = dissolve_warsaw_pact
		any_country = {
			limit = { has_country_modifier = warsaw_pact }
			remove_country_modifier = warsaw_pact
			leave_alliance = THIS
			any_pop = { 
				limit = { strata = poor } 
				militancy = 5 
				consciousness = 5 
			}
		}
		
  	}
	
}

#General Loss of Satellite State event
country_event = { 
  	id = 8014250
 	title = "$FROMCOUNTRY$ Demands Freedom!"
  	desc = EVT_8014250_DESC
  	picture = "loss_of_satellite_states"
	
  	is_triggered_only = yes
  
  	option = {
    		name = "We communists love freedom"
		
		#Release satellite state
		release_vassal = FROM
		diplomatic_influence = { who = FROM value = -100 }
		relation = { who = FROM value = -100 }
		
		ai_chance = { factor = 1 }
  	}

 	 option = {
    		name = "What is 'freedom'?"
		badboy = 5
		
		#Release Satellite state
		release_vassal = FROM
		diplomatic_influence = { who = FROM value = -200 }
		relation = { who = FROM value = -200 }
		
		#Begin War of independence - vassal declares war on overlord
		FROM = {
			war = {
				target = THIS
				attacker_goal = { casus_belli = become_independent }
				defender_goal = {  } #Make puppet is auto applied when attacker uses the become_independent CB
				call_ally = no
			}
		}
		
		ai_chance = { factor = 0 }
  	}	
  
}
